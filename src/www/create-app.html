<!doctype html>
<html navbar="/navbar-app-store.html">
  <head>
    <title>Create app</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <link rel="stylesheet" href="/public/pure-min.css" />
    <link rel="stylesheet" href="/public/content.css" />
    <base target="_top" href="/" />
    <style>
      form { max-width: 40rem }
      </style>
  </head>
  <body>
    <h1>Create app</h1>
    <p>An active, completed <a href="/account/connect">Connect registration</a> is required for creating apps.</p>
    <div id="message-container"></div>
    <form id="submit-form" method="POST" class="pure-form pure-form-stacked">
      <div class="pure-control-group">
        <label for="appid">App ID</label>
        <input type="text" id="appid" name="appid" />
        <span>Letters and numbers, and hyphens except at the start and finish.</span>
      </div>
      <h2>Publisher</h2>
      <div class="pure-control-group">
        <label for="name">Stripe Connect registration</label>
        <select id="stripeid" name="stripeid">
          <option>Select approved registration</option>
        </select>
      </div>
      <h2>Platform fee</h2>
      <div class="pure-control-group">
        <label for="name">Commission for our services</label>
        <select id="application_fee" name="application_fee">
          <option>Select commission amount</option>
          <option value="0.05">5%</option>
          <option value="0.1">10%</option>
          <option value="0.15">15%</option>
          <option value="0.2">20%</option>
        </select>
      </div>
      <h2>Source</h2>
      <div class="pure-control-group">
        <label for="name">Project</label>
        <select id="projectid" name="projectid">
          <option>Select project</option>
        </select>
      </div>
      <div class="pure-control-group">
        <label for="url">Hosted app URL</label>
        <input type="text" id="url" name="url" />
      </div>
      <div class="pure-controls">
        <button id="submit-button" class="pure-button pure-button-primary" type="submit">Create</button>
      </div>
    </form>
    <h2>All app store content must abide by:</h2>
    <ul>
      <li>The <a href=https://github.com/userappstore/policies/blob/master/Terms-of-Service.md>UserAppStore terms and conditions</a></li>
      <li>The <a href="https://stripe.com/us/connect-account/legal">Stripe Publisher Agreement</a></li>
    </ul>
  </body>
  <template id="account-option">
    <option id="individual-${account.id}" value="${account.id}">${account.legal_entity.first_name}
      ${account.legal_entity.last_name}</option>
    <option id="business-${account.id}" value="${account.id}">${account.legal_entity.business_name}</option>
  </template>
  <template id="project-option">
    <option value="${project.projectid}">${project.projectid}</option>
  </template>
  <template id="invalid-projectid">
    <div class="error-message">Error! An invalid project was selected.</div>
  </template>
  <template id="invalid-url">
    <div class="error-message">Error! An invalid or non-HTTPS URL was provided.</div>
  </template>
  <template id="invalid-application_fee">
    <div class="error-message">Error! An invalid platform commission was specified.</div>
  </template>
  <template id="invalid-source">
    <div class="error-message">Error! No project or URL was provided.</div>
  </template>
  <template id="invalid-name">
    <div class="error-message">Error! Invalid app name.</div>
  </template>
  <template id="invalid-stripeid">
    <div class="error-message">Error! An invalid Connect account was provided.</div>
  </template>
  <template id="invalid-appid">
    <div class="error-message">Error! A non-alphanumeric app ID was specified.</div>
  </template>
  <template id="duplicate-appid">
    <div class="error-message">Error! The app ID is being used by something else.</div>
  </template>
  <template id="unknown-error">
    <div class="error-message">An error occurred creating the app.</div>
  </template>
</html>